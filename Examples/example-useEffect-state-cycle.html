<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Exercice React</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@latest/babel.min.js"></script>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
       
        const App = () => {
            const { useEffect, useState } = React 
            const [count, setCount] = useState(0)
            const [count2, setCount2] = useState(0)

            // exécuter au montage 
            useEffect(() => {
                console.log(count, count2)
            }, [])

            // watch tous les states ( toutes les variables )
            useEffect(() => {
                console.log("function 1 principale ", count, count2)
            })

            useEffect(()=>{
                console.log("function 2 principale", count)

                // fonction optionnelle
                return () => {
                    console.log("function 2 montage/démontage", count)

                }
            }, [count])

            useEffect(()=>{
                console.log("function principale 3", count, count2)

                
            }, [count, count2])
           

            return (
                <div>
                    <p>Count : {count} Count 2 : {count2} </p>
                    <p><button onClick={()=> setCount(count + 1)} >+1</button></p>
                    <p><button onClick={()=> setCount2(count2 + 1)} >+1</button></p>
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(
            <App />
        );
    </script>
</body>
</html>